<<<<<<< HEAD
data<-x
data$data_id=1:nrow(data)
xvar<-as.character(substitute(xvar))
yvar<-as.character(substitute(yvar))
if(is.null(colour) & is.null(fill)) {
mapping=aes_string(x=xvar,y=yvar)
} else if(is.null(colour)) {
mapping=aes_string(x=xvar,y=yvar,fill=fill)
} else if(is.null(fill)) {
mapping=aes_string(x=xvar,y=yvar,colour=colour)
=======
"',size=",size,",palette='",palette,"',polar=TRUE,...)")
>>>>>>> origin/master
} else{
mapping=aes_string(x=xvar,y=yvar,colour=colour,fill=fill)
}
str(data)
data$tooltip=paste0(xvar,":",data[[xvar]],"<br>",yvar,":",data[[yvar]])
p<-ggplot(data=data,mapping)
if(smooth) {
p<- p+geom_smooth(method=method,se=se,level=level,fullrange=fullrange)
temp=paste0(method,"(",yvar,"~",xvar,",data=data)")
fit=eval(parse(text=temp))
str(summary(fit))
}
if(addloess) p<- p+geom_smooth(method="loess",formula=formula,se=FALSE,colour="red")
p<-p+ geom_point_interactive(aes(data_id=data_id,tooltip=tooltip),...)
tooltip_css <- "background-color:white;font-style:italic;padding:10px;border-radius:10px 20px 10px 20px;"
hover_css="fill-opacity=.3;cursor:pointer;stroke:gold;"
if(interactive) p<-ggiraph(code=print(p),tooltip_extra_css=tooltip_css,tooltip_opacity=.75,
zoom_max=10)
p
}
ggPoints(mtcars,xvar=wt,yvar=mpg,addloess=TRUE,interactive=TRUE)
ggPoints.default=function(x,xvar,yvar,colour=NULL,fill=NULL,smooth=TRUE,addloess=FALSE,
method="lm",formula=y~x,se=TRUE,level=0.95,jitter=FALSE,
fullrange=FALSE,interactive=FALSE,...){
data<-x
data$data_id=1:nrow(data)
xvar<-as.character(substitute(xvar))
yvar<-as.character(substitute(yvar))
if(is.null(colour) & is.null(fill)) {
mapping=aes_string(x=xvar,y=yvar)
} else if(is.null(colour)) {
mapping=aes_string(x=xvar,y=yvar,fill=fill)
} else if(is.null(fill)) {
mapping=aes_string(x=xvar,y=yvar,colour=colour)
} else{
mapping=aes_string(x=xvar,y=yvar,colour=colour,fill=fill)
}
str(data)
data$tooltip=paste0(xvar,":",data[[xvar]],"<br>",yvar,":",data[[yvar]])
p<-ggplot(data=data,mapping)
if(smooth) {
p<- p+geom_smooth(method=method,formula=formula,se=se,level=level,fullrange=fullrange)
temp=paste0(method,"(",yvar,"~",xvar,",data=data)")
fit=eval(parse(text=temp))
str(summary(fit))
}
if(addloess) p<- p+geom_smooth(method="loess",formula=formula,se=FALSE,colour="red")
p<-p+ geom_point_interactive(aes(data_id=data_id,tooltip=tooltip),...)
tooltip_css <- "background-color:white;font-style:italic;padding:10px;border-radius:10px 20px 10px 20px;"
hover_css="fill-opacity=.3;cursor:pointer;stroke:gold;"
if(interactive) p<-ggiraph(code=print(p),tooltip_extra_css=tooltip_css,tooltip_opacity=.75,
zoom_max=10)
p
}
ggPoints(mtcars,xvar=wt,yvar=mpg,addloess=TRUE,interactive=TRUE)
fit=lm(mpg~wt,data=mtcars)
str(fit)
ggPoints.default=function(x,xvar,yvar,colour=NULL,fill=NULL,smooth=TRUE,addloess=FALSE,
method="lm",formula=y~x,se=TRUE,level=0.95,jitter=FALSE,
fullrange=FALSE,interactive=FALSE,...){
data<-x
data$data_id=1:nrow(data)
xvar<-as.character(substitute(xvar))
yvar<-as.character(substitute(yvar))
if(is.null(colour) & is.null(fill)) {
mapping=aes_string(x=xvar,y=yvar)
} else if(is.null(colour)) {
mapping=aes_string(x=xvar,y=yvar,fill=fill)
} else if(is.null(fill)) {
mapping=aes_string(x=xvar,y=yvar,colour=colour)
} else{
mapping=aes_string(x=xvar,y=yvar,colour=colour,fill=fill)
}
str(data)
data$tooltip=paste0(xvar,":",data[[xvar]],"<br>",yvar,":",data[[yvar]])
p<-ggplot(data=data,mapping)
if(smooth) {
p<- p+geom_smooth(method=method,formula=formula,se=se,level=level,fullrange=fullrange)
temp=paste0(method,"(",yvar,"~",xvar,",data=data)")
fit=eval(parse(text=temp))
df2<-data.frame(x=data[[xvar]],y=fit$fitted.values)
df2$id=1:nrow(df2)
df2$tooltip=paste0(xvar,":",df2$x,"<br>",yvar,":",df2$y)
p<-p+geom_path_interactive(data=df2,aes(x=x,y=y,data_id=data_id,tooltip=tooltip))
}
if(addloess) p<- p+geom_smooth(method="loess",formula=formula,se=FALSE,colour="red")
p<-p+ geom_point_interactive(aes(data_id=data_id,tooltip=tooltip),...)
tooltip_css <- "background-color:white;font-style:italic;padding:10px;border-radius:10px 20px 10px 20px;"
hover_css="fill-opacity=.3;cursor:pointer;stroke:gold;"
if(interactive) p<-ggiraph(code=print(p),tooltip_extra_css=tooltip_css,tooltip_opacity=.75,
zoom_max=10)
p
}
ggPoints(mtcars,xvar=wt,yvar=mpg,addloess=TRUE,interactive=TRUE)
ggPoints.default=function(x,xvar,yvar,colour=NULL,fill=NULL,smooth=TRUE,addloess=FALSE,
method="lm",formula=y~x,se=TRUE,level=0.95,jitter=FALSE,
fullrange=FALSE,interactive=FALSE,...){
data<-x
data$data_id=1:nrow(data)
xvar<-as.character(substitute(xvar))
yvar<-as.character(substitute(yvar))
if(is.null(colour) & is.null(fill)) {
mapping=aes_string(x=xvar,y=yvar)
} else if(is.null(colour)) {
mapping=aes_string(x=xvar,y=yvar,fill=fill)
} else if(is.null(fill)) {
mapping=aes_string(x=xvar,y=yvar,colour=colour)
} else{
mapping=aes_string(x=xvar,y=yvar,colour=colour,fill=fill)
}
str(data)
data$tooltip=paste0(xvar,":",data[[xvar]],"<br>",yvar,":",data[[yvar]])
p<-ggplot(data=data,mapping)
if(smooth) {
p<- p+geom_smooth(method=method,formula=formula,se=se,level=level,fullrange=fullrange)
temp=paste0(method,"(",yvar,"~",xvar,",data=data)")
fit=eval(parse(text=temp))
df2<-data.frame(x=data[[xvar]],y=fit$fitted.values)
df2$id=1:nrow(df2)
df2$tooltip=paste0(xvar,":",df2$x,"<br>",yvar,":",df2$y)
p<-p+geom_path_interactive(data=df2,aes(x=x,y=y,data_id=id,tooltip=tooltip))
}
if(addloess) p<- p+geom_smooth(method="loess",formula=formula,se=FALSE,colour="red")
p<-p+ geom_point_interactive(aes(data_id=data_id,tooltip=tooltip),...)
tooltip_css <- "background-color:white;font-style:italic;padding:10px;border-radius:10px 20px 10px 20px;"
hover_css="fill-opacity=.3;cursor:pointer;stroke:gold;"
if(interactive) p<-ggiraph(code=print(p),tooltip_extra_css=tooltip_css,tooltip_opacity=.75,
zoom_max=10)
p
}
ggPoints(mtcars,xvar=wt,yvar=mpg,addloess=TRUE,interactive=TRUE)
ggPoints.default=function(x,xvar,yvar,colour=NULL,fill=NULL,smooth=TRUE,addloess=FALSE,
method="lm",formula=y~x,se=TRUE,level=0.95,jitter=FALSE,
fullrange=FALSE,interactive=FALSE,...){
data<-x
data$data_id=1:nrow(data)
xvar<-as.character(substitute(xvar))
yvar<-as.character(substitute(yvar))
if(is.null(colour) & is.null(fill)) {
mapping=aes_string(x=xvar,y=yvar)
} else if(is.null(colour)) {
mapping=aes_string(x=xvar,y=yvar,fill=fill)
} else if(is.null(fill)) {
mapping=aes_string(x=xvar,y=yvar,colour=colour)
} else{
mapping=aes_string(x=xvar,y=yvar,colour=colour,fill=fill)
}
str(data)
data$tooltip=paste0(xvar,":",data[[xvar]],"<br>",yvar,":",data[[yvar]])
p<-ggplot(data=data,mapping)
if(smooth) {
#p<- p+geom_smooth(method=method,formula=formula,se=se,level=level,fullrange=fullrange)
temp=paste0(method,"(",yvar,"~",xvar,",data=data)")
fit=eval(parse(text=temp))
df2<-data.frame(x=data[[xvar]],y=fit$fitted.values)
df2$id=1:nrow(df2)
df2$tooltip=paste0(xvar,":",df2$x,"<br>",yvar,":",df2$y)
p<-p+geom_path_interactive(data=df2,aes(x=x,y=y,data_id=id,tooltip=tooltip))
}
if(addloess) p<- p+geom_smooth(method="loess",formula=formula,se=FALSE,colour="red")
p<-p+ geom_point_interactive(aes(data_id=data_id,tooltip=tooltip),...)
tooltip_css <- "background-color:white;font-style:italic;padding:10px;border-radius:10px 20px 10px 20px;"
hover_css="fill-opacity=.3;cursor:pointer;stroke:gold;"
if(interactive) p<-ggiraph(code=print(p),tooltip_extra_css=tooltip_css,tooltip_opacity=.75,
zoom_max=10)
p
}
ggPoints(mtcars,"mpg","wt",interative=TRUE)
ggPoints(mtcars,"mpg","wt",interactive=TRUE)
ggPoints.default=function(x,xvar,yvar,colour=NULL,fill=NULL,smooth=TRUE,addloess=FALSE,
method="lm",formula=y~x,se=TRUE,level=0.95,jitter=FALSE,
fullrange=FALSE,interactive=FALSE,...){
data<-x
data$data_id=1:nrow(data)
xvar<-as.character(substitute(xvar))
yvar<-as.character(substitute(yvar))
if(is.null(colour) & is.null(fill)) {
mapping=aes_string(x=xvar,y=yvar)
} else if(is.null(colour)) {
mapping=aes_string(x=xvar,y=yvar,fill=fill)
} else if(is.null(fill)) {
mapping=aes_string(x=xvar,y=yvar,colour=colour)
} else{
mapping=aes_string(x=xvar,y=yvar,colour=colour,fill=fill)
}
str(data)
data$tooltip=paste0(xvar,":",data[[xvar]],"<br>",yvar,":",data[[yvar]])
p<-ggplot(data=data,mapping)
if(smooth) {
#p<- p+geom_smooth(method=method,formula=formula,se=se,level=level,fullrange=fullrange)
temp=paste0(method,"(",yvar,"~",xvar,",data=data)")
fit=eval(parse(text=temp))
df2<-data.frame(x=data[[xvar]],y=fit$fitted.values)
df2$id=1:nrow(df2)
df2$tooltip=paste0(xvar,":",df2$x,"<br>",yvar,":",df2$y)
str(df2)
p<-p+geom_path_interactive(data=df2,aes(x=x,y=y,data_id=id,tooltip=tooltip))
}
if(addloess) p<- p+geom_smooth(method="loess",formula=formula,se=FALSE,colour="red")
p<-p+ geom_point_interactive(aes(data_id=data_id,tooltip=tooltip),...)
tooltip_css <- "background-color:white;font-style:italic;padding:10px;border-radius:10px 20px 10px 20px;"
hover_css="fill-opacity=.3;cursor:pointer;stroke:gold;"
if(interactive) p<-ggiraph(code=print(p),tooltip_extra_css=tooltip_css,tooltip_opacity=.75,
zoom_max=10)
p
}
ggPoints(mtcars,"mpg","wt",interactive=TRUE)
ggPoints<-function(x,...) UseMethod("ggPoints")
#'@describeIn ggPoints
#' Draw scatterplot with ggiraph package
#'
#'@param x A data.frame
#'@param xvar A character string of column name be used as a x-axis variable
#'@param yvar A character string of column name be used as a y-axis variable.
#'@param colour A character string of column name be used as a colour variable. Default value is NULL
#'@param fill A character string of column name be used as a fill variable. Default value is NULL
#'@param smooth A logical value. If TRUE, a layer of geom_smooth() added
#'@param formula formula formula to use in smoothing function, eg. y ~ x, y ~ poly(x, 2), y ~ log(x)
#'@param se display confidence interval around smooth? (TRUE by default, see level to control
#'@param jitter A logical value. If TRUE, a layer of geom_jitter() used instead of geom_point()
#'@param fullrange should the fit span the full range of the plot, or just the data
#'@param level level of confidence interval to use (0.95 by default)
#'@param interactive A logical value. If TRUE, an interactive plot will be returned
#'
#'@return An interactive plot or ggplot
#'
#' @examples
#' require(ggplot2)
#' require(moonBook)
#' require(ggiraph)
#' ggPoints(iris,xvar=Sepal.Length,yvar=Sepal.Width,colour="Species")
#' ggPoints(mtcars,xvar=wt,yvar=mpg,addloess=TRUE,interactive=TRUE)
#'# ggPoints(mtcars,yvar=mpg,xvar=wt,fill="factor(cyl)",pch=21,smooth=FALSE)
#'# ggPoints(acs,xvar=height,yvar=weight,colour="sex",interactive=TRUE,
#'#           position="jitter",method="lm",formula=y~poly(x,2))
ggPoints.default=function(x,xvar,yvar,colour=NULL,fill=NULL,smooth=TRUE,addloess=FALSE,
method="lm",formula=y~x,se=TRUE,level=0.95,jitter=FALSE,
fullrange=FALSE,interactive=FALSE,...){
data<-x
data$data_id=1:nrow(data)
xvar<-as.character(substitute(xvar))
yvar<-as.character(substitute(yvar))
if(is.null(colour) & is.null(fill)) {
mapping=aes_string(x=xvar,y=yvar)
} else if(is.null(colour)) {
mapping=aes_string(x=xvar,y=yvar,fill=fill)
} else if(is.null(fill)) {
mapping=aes_string(x=xvar,y=yvar,colour=colour)
} else{
mapping=aes_string(x=xvar,y=yvar,colour=colour,fill=fill)
}
str(data)
data$tooltip=paste0(xvar,":",data[[xvar]],"<br>",yvar,":",data[[yvar]])
p<-ggplot(data=data,mapping)
if(smooth) {
#p<- p+geom_smooth(method=method,formula=formula,se=se,level=level,fullrange=fullrange)
temp=paste0(method,"(",yvar,"~",xvar,",data=data)")
fit=eval(parse(text=temp))
df2<-data.frame(x=data[[xvar]],y=fit$fitted.values)
df2$id=1:nrow(df2)
df2$tooltip=paste0(xvar,":",df2$x,"<br>",yvar,":",df2$y)
str(df2)
p<-p+geom_path_interactive(data=df2,aes(x=x,y=y,group=1,data_id=id,tooltip=tooltip))
}
if(addloess) p<- p+geom_smooth(method="loess",formula=formula,se=FALSE,colour="red")
p<-p+ geom_point_interactive(aes(data_id=data_id,tooltip=tooltip),...)
tooltip_css <- "background-color:white;font-style:italic;padding:10px;border-radius:10px 20px 10px 20px;"
hover_css="fill-opacity=.3;cursor:pointer;stroke:gold;"
if(interactive) p<-ggiraph(code=print(p),tooltip_extra_css=tooltip_css,tooltip_opacity=.75,
zoom_max=10)
p
}
ggPoints(mtcars,"mpg","wt",interactive=TRUE)
ggPoints.default=function(x,xvar,yvar,colour=NULL,fill=NULL,smooth=TRUE,addloess=FALSE,
method="lm",formula=y~x,se=TRUE,level=0.95,jitter=FALSE,
fullrange=FALSE,interactive=FALSE,...){
data<-x
data$data_id=1:nrow(data)
xvar<-as.character(substitute(xvar))
yvar<-as.character(substitute(yvar))
if(is.null(colour) & is.null(fill)) {
mapping=aes_string(x=xvar,y=yvar)
} else if(is.null(colour)) {
mapping=aes_string(x=xvar,y=yvar,fill=fill)
} else if(is.null(fill)) {
mapping=aes_string(x=xvar,y=yvar,colour=colour)
} else{
mapping=aes_string(x=xvar,y=yvar,colour=colour,fill=fill)
}
str(data)
data$tooltip=paste0(xvar,":",data[[xvar]],"<br>",yvar,":",data[[yvar]])
p<-ggplot(data=data,mapping)
if(smooth) {
#p<- p+geom_smooth(method=method,formula=formula,se=se,level=level,fullrange=fullrange)
temp=paste0(method,"(",yvar,"~",xvar,",data=data)")
fit=eval(parse(text=temp))
df2<-data.frame(x=data[[xvar]],y=fit$fitted.values)
df2$id=1:nrow(df2)
df2$tooltip=paste0(xvar,":",df2$x,"<br>",yvar,":",df2$y)
str(df2)
p<-p+geom_path_interactive(data=df2,aes(x=x,y=y,data_id=id,tooltip=tooltip,colour="blue"))
}
if(addloess) p<- p+geom_smooth(method="loess",formula=formula,se=FALSE,colour="red")
p<-p+ geom_point_interactive(aes(data_id=data_id,tooltip=tooltip),...)
tooltip_css <- "background-color:white;font-style:italic;padding:10px;border-radius:10px 20px 10px 20px;"
hover_css="fill-opacity=.3;cursor:pointer;stroke:gold;"
if(interactive) p<-ggiraph(code=print(p),tooltip_extra_css=tooltip_css,tooltip_opacity=.75,
zoom_max=10)
p
}
ggPoints(mtcars,"mpg","wt",interactive=TRUE)
ggPoints.default=function(x,xvar,yvar,colour=NULL,fill=NULL,smooth=TRUE,addloess=FALSE,
method="lm",formula=y~x,se=TRUE,level=0.95,jitter=FALSE,
fullrange=FALSE,interactive=FALSE,...){
data<-x
data$data_id=1:nrow(data)
xvar<-as.character(substitute(xvar))
yvar<-as.character(substitute(yvar))
if(is.null(colour) & is.null(fill)) {
mapping=aes_string(x=xvar,y=yvar)
} else if(is.null(colour)) {
mapping=aes_string(x=xvar,y=yvar,fill=fill)
} else if(is.null(fill)) {
mapping=aes_string(x=xvar,y=yvar,colour=colour)
} else{
mapping=aes_string(x=xvar,y=yvar,colour=colour,fill=fill)
}
str(data)
data$tooltip=paste0(xvar,":",data[[xvar]],"<br>",yvar,":",data[[yvar]])
p<-ggplot(data=data,mapping)
if(smooth) {
#p<- p+geom_smooth(method=method,formula=formula,se=se,level=level,fullrange=fullrange)
temp=paste0(method,"(",yvar,"~",xvar,",data=data)")
fit=eval(parse(text=temp))
df2<-data.frame(x=data[[xvar]],y=fit$fitted.values)
df2$id=1:nrow(df2)
df2$tooltip=paste0(xvar,":",df2$x,"<br>",yvar,":",df2$y)
str(df2)
p<-p+geom_path_interactive(data=df2,aes(x=x,y=y,data_id=id,tooltip=tooltip))
}
if(addloess) p<- p+geom_smooth(method="loess",formula=formula,se=FALSE,colour="red")
p<-p+ geom_point_interactive(aes(data_id=data_id,tooltip=tooltip),...)
tooltip_css <- "background-color:white;font-style:italic;padding:10px;border-radius:10px 20px 10px 20px;"
hover_css="fill-opacity=.3;cursor:pointer;stroke:gold;"
if(interactive) p<-ggiraph(code=print(p),tooltip_extra_css=tooltip_css,tooltip_opacity=.75,
zoom_max=10)
p
}
ggPoints(mtcars,"mpg","wt",interactive=TRUE)
ggPoints.default=function(x,xvar,yvar,colour=NULL,fill=NULL,smooth=TRUE,addloess=FALSE,
method="lm",formula=y~x,se=TRUE,level=0.95,jitter=FALSE,
fullrange=FALSE,interactive=FALSE,...){
data<-x
data$data_id=1:nrow(data)
xvar<-as.character(substitute(xvar))
yvar<-as.character(substitute(yvar))
if(is.null(colour) & is.null(fill)) {
mapping=aes_string(x=xvar,y=yvar)
} else if(is.null(colour)) {
mapping=aes_string(x=xvar,y=yvar,fill=fill)
} else if(is.null(fill)) {
mapping=aes_string(x=xvar,y=yvar,colour=colour)
} else{
mapping=aes_string(x=xvar,y=yvar,colour=colour,fill=fill)
}
str(data)
data$tooltip=paste0(xvar,":",data[[xvar]],"<br>",yvar,":",data[[yvar]])
p<-ggplot(data=data,mapping)
if(smooth) {
#p<- p+geom_smooth(method=method,formula=formula,se=se,level=level,fullrange=fullrange)
temp=paste0(method,"(",yvar,"~",xvar,",data=data)")
fit=eval(parse(text=temp))
df2<-data.frame(x=data[[xvar]],y=fit$fitted.values)
df2$id=1:nrow(df2)
df2$tooltip=paste0(xvar,":",df2$x,"<br>",yvar,":",df2$y)
str(df2)
p<-p+geom_path_interactive(data=df2,aes(x=x,y=y,group=1,data_id=id,
tooltip=tooltip))
}
if(addloess) p<- p+geom_smooth(method="loess",formula=formula,se=FALSE,colour="red")
p<-p+ geom_point_interactive(aes(data_id=data_id,tooltip=tooltip),...)
tooltip_css <- "background-color:white;font-style:italic;padding:10px;border-radius:10px 20px 10px 20px;"
hover_css="fill-opacity=.3;cursor:pointer;stroke:gold;"
if(interactive) p<-ggiraph(code=print(p),tooltip_extra_css=tooltip_css,tooltip_opacity=.75,
zoom_max=10)
p
}
ggPoints(mtcars,"mpg","wt",interactive=TRUE)
ggPoints.default=function(x,xvar,yvar,colour=NULL,fill=NULL,smooth=TRUE,addloess=FALSE,
method="lm",formula=y~x,se=TRUE,level=0.95,jitter=FALSE,
fullrange=FALSE,interactive=FALSE,...){
data<-x
data$data_id=1:nrow(data)
xvar<-as.character(substitute(xvar))
yvar<-as.character(substitute(yvar))
if(is.null(colour) & is.null(fill)) {
mapping=aes_string(x=xvar,y=yvar)
} else if(is.null(colour)) {
mapping=aes_string(x=xvar,y=yvar,fill=fill)
} else if(is.null(fill)) {
mapping=aes_string(x=xvar,y=yvar,colour=colour)
} else{
mapping=aes_string(x=xvar,y=yvar,colour=colour,fill=fill)
}
str(data)
data$tooltip=paste0(xvar,":",data[[xvar]],"<br>",yvar,":",data[[yvar]])
p<-ggplot(data=data,mapping)
if(smooth) {
#p<- p+geom_smooth(method=method,formula=formula,se=se,level=level,fullrange=fullrange)
temp=paste0(method,"(",yvar,"~",xvar,",data=data)")
fit=eval(parse(text=temp))
df2<-data.frame(x=data[[xvar]],y=fit$fitted.values)
df2$id=1:nrow(df2)
df2$tooltip=paste0(xvar,":",df2$x,"<br>",yvar,":",df2$y)
str(df2)
p<-p+geom_point_interactive(data=df2,aes(x=x,y=y,data_id=id,
tooltip=tooltip),color="red")
p<-p+geom_path_interactive(data=df2,aes(x=x,y=y,group=1,data_id=id,
tooltip=tooltip))
}
if(addloess) p<- p+geom_smooth(method="loess",formula=formula,se=FALSE,colour="red")
p<-p+ geom_point_interactive(aes(data_id=data_id,tooltip=tooltip),...)
tooltip_css <- "background-color:white;font-style:italic;padding:10px;border-radius:10px 20px 10px 20px;"
hover_css="fill-opacity=.3;cursor:pointer;stroke:gold;"
if(interactive) p<-ggiraph(code=print(p),tooltip_extra_css=tooltip_css,tooltip_opacity=.75,
zoom_max=10)
p
}
ggPoints(mtcars,"mpg","wt",interactive=TRUE)
fit=lm(mpg~wt,mtcars)
str(fit)
df2[2]
df2<-fit$model
df2$fitted=fit$fitted.values
df2$id=1:nrow(df2)
df2[2]
df2$tooltip=paste0(names(df2)[2],":",df2[2],"<br>",names(df2)[1],":",df2[1])
str(df2)
str(fit)
df2<-fit$model
df2$fitted=fit$fitted.values
df2$id=1:nrow(df2)
df2[2]
df2$tooltip=paste0(names(df2)[2],":",df2[2],"<br>",names(df2)[1],":",df2[1])
str(df2)
str(df2)
ggplot(df2,aes_string(y=yvar,x=xvar,data_id=id))+
geom_point_interactive(aes(tooltip=tooltip))+
geam_path_interactive(aes(tooltip=tooltip2))
df2<-fit$model
df2$fitted=fit$fitted.values
df2$id=1:nrow(df2)
df2[2]
xvar=names(df2)[2]
yvar=names(df2)[1]
df2$tooltip=paste0(xvar,":",df2[2],"<br>",yvar,":",df2[1])
df2$tooltip2=paste0(xvar,":",df2[2],"<br>",yvar,":",df2$fitted)
str(df2)
ggplot(df2,aes_string(y=yvar,x=xvar,data_id=id))+
geom_point_interactive(aes(tooltip=tooltip))+
geam_path_interactive(aes(tooltip=tooltip2))
p<-ggplot(df2,aes_string(y=yvar,x=xvar,data_id=id))+
geom_point_interactive(aes(tooltip=tooltip))+
geom_path_interactive(aes(tooltip=tooltip2))
p
requie(ggplot2)
require(ggplot2)
require(ggiraph)
p<-ggplot(df2,aes_string(y=yvar,x=xvar,data_id=id))+
geom_point_interactive(aes(tooltip=tooltip))+
geom_path_interactive(aes(tooltip=tooltip2))
p
str(df2)
p<-ggplot(df2,aes_string(y=yvar,x=xvar))+
geom_point_interactive(aes(data_id=id,tooltip=tooltip))+
geom_path_interactive(aes(data_id=id,tooltip=tooltip2))
p
p<-ggplot(df2,aes_string(y=yvar,x=xvar))+
geom_point_interactive(aes(data_id=id,tooltip=tooltip))+
geom_path_interactive(aes(y=fitted,data_id=id,tooltip=tooltip2))
p
p<-ggplot(df2,aes_string(y=yvar,x=xvar))+
geom_point_interactive(aes(data_id=id,tooltip=tooltip))+
geom_path_interactive(aes(y=fitted,data_id=id,tooltip=tooltip2,group=1))
p
<<<<<<< HEAD
ggiraph(code=print(p))
df2<-fit$model
df2$fitted=fit$fitted.values
df2$id=1:nrow(df2)
df2[2]
xvar=names(df2)[2]
yvar=names(df2)[1]
df2$tooltip=paste0(xvar,":",df2[[xvar]],"<br>",yvar,":",df2[[yvar]])
df2$tooltip2=paste0(xvar,":",df2[[xvar]],"<br>",yvar,":",df2$fitted)
str(df2)
require(ggplot2)
require(ggiraph)
p<-ggplot(df2,aes_string(y=yvar,x=xvar))+
geom_point_interactive(aes(data_id=id,tooltip=tooltip))+
geom_path_interactive(aes(y=fitted,data_id=id,tooltip=tooltip2,group=1))
p
ggiraph(code=print(p))
=======
library(moonBook2)
ggErrorBar(acs,"Dx","sex","age")
ggErrorBar(acs,xvar="Dx",fillvar="sex",yvar="age")
ggErrorBar(acs,xvar="Dx",group="sex",yvar="age")
library(moonBook2)
ggErrorBar(acs,xvar="Dx",group="sex",yvar="age")
ggErrorBar(acs,xvar="Dx",group="sex",yvar="age",mode=1)
ggErrorBar(acs,xvar="Dx",group="sex",yvar="age",mode=2)
ggErrorBar(acs,xvar="Dx",group="sex",yvar="age",mode=2)
ggErrorBar(acs,xvar="Dx",group="sex",yvar="age",mode=1)
ggErrorBar(acs,xvar="Dx",group="sex",yvar="age",mode=1,interactive=TRUE)
library(moonBook2)
ggErrorBar(acs,xvar="Dx",group="sex",yvar="age",mode=1,interactive=TRUE)
library(moonBook2)
library(moonBook2)
ggErrorBar(acs,xvar="Dx",group="sex",yvar="age",mode=1,interactive=TRUE)
library(moonBook2)
ggErrorBar(acs,xvar="Dx",group="sex",yvar="age",mode=1,interactive=TRUE)
library(moonBook2)
ggErrorBar(acs,xvar="Dx",group="sex",yvar="age",mode=1,interactive=TRUE)
ggErrorBar(acs,xvar="Dx",group="sex",yvar="age",interactive=TRUE)
source('~/ownCloud/Documents/moonBook2/R/ggErrorBar.R', echo=TRUE)
library(moonBook2)
ggErrorBar(acs,xvar="Dx",group="sex",yvar="age",interactive=TRUE)
library(moonBook2)
library(moonBook2)
ggErrorBar(acs,xvar="Dx",group="sex",yvar="age",interactive=TRUE)
library(moonBook2)
ggErrorBar(acs,xvar="Dx",group="sex",yvar="age",interactive=TRUE)
library(moonBook2)
ggErrorBar(acs,xvar="Dx",group="sex",yvar="age",interactive=TRUE)
library(moonBook2)
ggErrorBar(acs,xvar="Dx",group="sex",yvar="age",interactive=TRUE)
ggErrorBar(acs,xvar="Dx",group="sex",yvar="age",interactive=TRUE,mode=1)
ggErrorBar(acs,xvar="Dx",group="sex",yvar="age",mode=1)
ggErrorBar(acs,xvar="Dx",group="sex",yvar="age",mode=1)+ylim(c(60,70))
ggErrorBar(acs,xvar="Dx",group="sex",yvar="age",mode=1)+ylim(c(40,70))
ggErrorBar(acs,xvar="Dx",group="sex",yvar="age",mode=1)
ggErrorbar(Salaries,xvar="rank",yvar="salary",group="sex",interactive=TRUE)
ggErrorBar(acs,"Dx","age","sex",interactive=TRUE,mode=1)
require(moonBook)  # for use of data acs
ggErrorBar(acs,"Dx","age","sex",interactive=TRUE,mode=1)
ggErrorBar(Salaries,yvar="salary",xvar="rank",group="sex",interactive=TRUE)
require(car)  # for use of data Salaries
ggErrorBar(Salaries,yvar="salary",xvar="rank",group="sex",interactive=TRUE)
ggErrorBar(acs,"age","Dx","sex",interactive=TRUE,mode=1)
ggErrorBar(mpg~am+cyl,data=mtcars)
library(moonBook2)
ggErrorBar(mpg~am+cyl,data=mtcars)
ggErrorBar(mtcars,y="mpg",xvar="cyl",group="am")
ggErrorBar(mtcars,y="mpg",xvar="factor(cyl)",group="am")
ggErrorBar(mtcars,y="mpg",xvar="cyl",group="am")
ggErrorBar(mpg~am+cyl,data=mtcars)
ggErrorBar(age~sex+Dx,data=acs)
ggErrorBar(age~Dx+sex,data=acs)
ggErrorBar(age~Dx*sex,data=acs)
ggErrorBar(acs,"age","Dx",interactive=TRUE,mode=1)
library(moonBook2)
ggErrorBar(mtcars,y="mpg",xvar="cyl")
ggErrorBar(acs,y="age",xvar="Dx")
library(moonBook2)
ggErrorBar(acs,y="age",xvar="Dx")
ggErrorBar(acs,y="age",xvar="Dx",group="sec")
ggErrorBar(acs,y="age",xvar="Dx",group="sex")
x=age~Dx
data<-acs
formula<-x
m <- match.call(expand.dots = FALSE)
m <- m[c(1L, match(c("formula", "data", "subset"), names(m),
0L))]
m[[1L]] <- quote(stats::model.frame)
mf <- eval.parent(m)
library(moonBook2)
ggErrorBar(age~Dx+sex,data=acs)
ggCatepillar(age~Dx+sex,data=acs)
ggCatepillar(age~Dx+sex,data=acs)
ggCatepillar(age~sex+Dx,data=acs)
library(moonBook2)
ggErrorBar(age~Dx+sex,data=acs)
densityplot
source('~/.active-rstudio-document', echo=TRUE)
formulaTest(age~Dx+sex,data=acs)
formulaTest=function(formula,data){
call = paste(deparse(formula), ", ", "data= ", substitute(data),
sep = "")
f = formula
myt = terms(f, data = data)
y = as.character(f[[3]])
y = unlist(strsplit(y, "+", fixed = TRUE))
cat("y=",y,"\n")
x = as.character(f[[2]])
cat("x=",x,"\n")
}
formulaTest(age~Dx+sex,data=acs)
formulaTest=function(formula,data){
call = paste(deparse(formula), ", ", "data= ", substitute(data),
sep = "")
f = formula
myt = terms(f, data = data)
y = as.character(f[[3]])
y = unlist(strsplit(y, "+", fixed = TRUE))
cat("y=",y,"\n")
str(y)
x = as.character(f[[2]])
cat("x=",x,"\n")
str(x)
}
formulaTest(age~Dx+sex,data=acs)
formulaTest=function(formula,data){
call = paste(deparse(formula), ", ", "data= ", substitute(data),
sep = "")
f = formula
myt = terms(f, data = data)
x = as.character(f[[3]])
x = unlist(strsplit(x, "+", fixed = TRUE))
cat("x=",x,"\n")
str(x)
y = as.character(f[[2]])
cat("y=",y,"\n")
str(y)
}
formulaTest(age~Dx+sex,data=acs)
formulaTest=function(formula,data){
call = paste(deparse(formula), ", ", "data= ", substitute(data),
sep = "")
f = formula
myt = terms(f, data = data)
x = as.character(f[[3]])
x = unlist(strsplit(x, "+", fixed = TRUE))
x=x[-1]
cat("x=",x,"\n")
str(x)
y = as.character(f[[2]])
cat("y=",y,"\n")
str(y)
}
formulaTest(age~Dx+sex,data=acs)
library(moonBook2)
ggErrorBar(age~Dx+sex,data=acs)
library(moonBook2)
library(moonBook2)
ggErrorBar(age~Dx+sex,data=acs)
library(moonBook2)
ggErrorBar(age~Dx+sex,data=acs)
ggErrorBar(age~Dx,data=acs)
library(moonBook2)
library(moonBook2)
ggErrorBar(age~Dx,data=acs)
ggErrorBar(age~Dx+sex,data=acs)
ggErrorBar(age~Dx,data=acs)
library(moonBook2)
ggErrorBar(age~Dx,data=acs)
ggErrorBar(age~Dx+sex,data=acs)
library(moonBook2)
ggErrorBar(age~Dx+sex,data=acs)
ggErrorBar(age~Dx,data=acs)
library(moonBook2)
ggErrorBar(age~Dx,data=acs)
ggErrorBar(age~Dx+sex,data=acs)
library(moonBook2)
ggErrorBar(age~Dx+sex,data=acs)
ggErrorBar(age~Dx,data=acs)
library(moonBook2)
ggErrorBar(age~Dx+sex,data=acs)
ggCatepillar(age~Dx+sex,data=acs)
ggCatepillar(age~Dx,data=acs)
ggErrorBar(age~Dx,data=acs)
ggErrorBar(mpg~cyl+am,data=mtcars)
ggErrorBar(age~Dx*sex,data=acs)
ggErrorBar(age~Dx*sex,data=acs,interactive=TRUE)
library(moonBook2)
library(moonBook2)
devtools::document()
library(moonBook2)
devtools::document()
library(moonBook2)
>>>>>>> origin/master
