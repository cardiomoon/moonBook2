ggBar(acs,age,Dx,order=desc(Dx))
ggBar(acs,age,Dx,order=desc(acs$Dx))
ggBar(acs,sex,Dx,order=desc(acs$Dx))
ggBar(acs,sex,Dx)
ggplot(acs,aes(x=Dx,fill=sex))+geom_bar()
ggplot(acs,aes(x=Dx,fill=sex,order=desc(sex)))+geom_bar()
ggplot(acs,aes(x=Dx,fill=sex,order=asc(sex)))+geom_bar()
desc
ggplot(acs,aes(x=Dx,fill=sex,order=desc(sex)))+geom_bar()
ggplot(acs,aes(x=Dx,fill=sex,order=-desc(sex)))+geom_bar()
ggplot(acs,aes(x=Dx,fill=sex,order=-desc(sex)))+geom_bar()
ggplot(acs,aes(x=Dx,fill=sex,order=order(sex)))+geom_bar()
ggplot(acs,aes(x=Dx,fill=sex,order=order(sex,decreasing=FALSE)))+geom_bar()
ggplot(acs,aes(x=Dx,fill=sex,order=order(sex,decreasing=TRUE)))+geom_bar()
avg_price <- diamonds %>%
group_by(cut, color) %>%
summarise(price = mean(price)) %>%
ungroup() %>%
mutate(price_rel = price - mean(price))
ggplot(avg_price) +
geom_col(aes(x = cut, y = price, fill = color))
avg_price <- diamonds %>%
group_by(cut, color) %>%
summarise(price = mean(price)) %>%
ungroup() %>%
mutate(price_rel = price - mean(price))
require(dplyr)
avg_price <- diamonds %>%
group_by(cut, color) %>%
summarise(price = mean(price)) %>%
ungroup() %>%
mutate(price_rel = price - mean(price))
ggplot(avg_price) +
geom_col(aes(x = cut, y = price, fill = color))
ggplot(avg_price) +
geom_col(aes(x = cut, y = price_rel, fill = color))
ggplot(avg_price) +
geom_bar(aes(x = cut, y = price_rel, fill = color,stat="identity"))
ggplot(avg_price) +
geom_bar(aes(x = cut, y = price_rel, fill = color),stat="identity")
ggBar(avg_price,xvar="cut",yvar="price",fill="color")
ggplot(avg_price) +
geom_col(aes(x = cut, y = price_rel, fill = color))
ggBar(avg_price,xvar="cut",yvar="price",fill="color",stat="identity")
ggBar(avg_price,xvar="cut",yvar="price_rel",fill="color",stat="identity")
ggBar(avg_price,xvar="cut",yvar="price_rel",fill="color",stat="identity",interactive=TRUE)
ggBar(avg_price,xvar="cut",yvar="price_rel",fill="color",stat="identity",interactive=TRUE,addlabel=TRUE)
ggBar(avg_price,xvar="cut",yvar="price_rel",fill="color",stat="identity",interactive=TRUE)
ggBar(avg_price,xvar="cut",yvar="price",fill="color",stat="identity")
ggBar(avg_price,xvar="cut",yvar="price",fill="color",stat="identity",addlabel=TRUE)
ggBar(avg_price,xvar="cut",yvar="price_rel",fill="color",stat="identity",interactive=TRUE)
ggplot(acs,aes(x=Dx,fill=sex))+geom+bar()
ggplot(acs,aes(x=Dx,fill=sex))+geom_bar()
ggplot(acs,aes(x=Dx,fill=fct_rev(sex)))+geom_bar()
ggplot(acs,aes(x=Dx,fill=forcats::fct_rev(sex)))+geom_bar()
install.packages("forcats")
ggplot(acs,aes(x=Dx,fill=forcats::fct_rev(sex)))+geom_bar()
library(moonBook2)
library(moonBook2)
library(moonBook2)
require(mooonBook)
require(moonBook)
ggScatter(acs,x="height",y="weight")
ggScatter(acs,xvar="height",yvar="weight")
reuier(ggplot2)
require(ggplot2)
ggScatter(acs,xvar="height",yvar="weight")
ggScatter(acs,xvar="height",yvar="weight")+facet_wrap(~(cut_number(age,4)))
ggScatter(acs,xvar="height",yvar="weight")+facet_wrap(~(cut_number(acs$age,4)))
ggplot(acs,aes(x=height,y=weight))+geom_point()
ggplot(acs,aes(x=height,y=weight))+geom_point()+facet_wrap(~cut_numer(age,4))
ggplot(acs,aes(x=height,y=weight))+geom_point()+facet_wrap(~cut_number(age,4))
ggplot(acs,aes(x=height,y=weight))+geom_point()+facet_wrap(~cut_number(age,4))+geom_smooth()
ggplot(acs,aes(x=height,y=weight))+geom_point()+facet_wrap(~cut_number(age,4))+geom_smooth(method="lm")
ggplot(acs,aes(x=height,y=weight,colour=cut_number(age,4)))+geom_point()+facet_wrap(~cut_number(age,4))+geom_smooth(method="lm")
ggplot(acs,aes(x=height,y=weight,colour=cut_number(age,4)))+geom_point()+geom_smooth(method="lm")
ggplot(acs,aes(x=height,y=weight,colour=cut_number(age,4)))+geom_point()+geom_smooth(method="lm",se=FALSE)
ggplot(acs,aes(x=height,y=weight,colour=cut_number(age,4)))+geom_point()+facet_wrap(~cut_number(age,4))+geom_smooth(method="lm")
ggplot(acs,aes_string(x="height",y="weight",colour="cut_number(age,4)"))+geom_point()+facet_wrap(~cut_number(age,4))+geom_smooth(method="lm")
ggplot(acs,aes_string(x="height",y="weight",colour="age"))+geom_point()
ggplot(acs,aes_string(x="height",y="weight",colour="age"))+geom_point()+facet_wrap(~cut_number(age,4))+geom_smooth(method="lm")
ggplot(acs,aes_string(x="height",y="weight",colour="age"))+geom_point()+facet_wrap(~age)
ggScatter(acs,height,weight,"cut_numer(age,4")
ggScatter(acs,"height","weight","cut_numer(age,4)")
ggScatter(acs,"height","weight","age")
ggScatter(acs,"height","weight")
ggScatter(acs,"height","weight","DX")
ggScatter(acs,"height","weight","Dx")
ggScatter(acs,"height","weight","Dx")
ggScatter(acs,"height","weight","Dx")+facet_wrap(~Dx)
ggScatter(acs,"height","weight")+facet_wrap(~cut_numer(age,4))
ggScatter(acs,"height","weight")+facet_wrap(~cut_number(age,4))
ggScatter(acs,"height","weight")
ggScatter(acs,"height","weight")+geom_smooth()
ggScatter(acs,"height","weight")+geom_smooth(colour="red",se=FALSE)
ggScatter(acs,"height","weight",interactive=TRUE)+geom_smooth(colour="red",se=FALSE)
p<-ggScatter(acs,"height","weight")+geom_smooth(colour="red",se=FALSE)
p
ggiraph(code=print(p))
require(ggiraph)
ggiraph(code=print(p))
library(moonBook2)
ggScatter(mtcars,"wt","mpg")
ggScatter(mtcars,"wt","mpg",method="lm")
ggScatter(mtcars,"wt","mpg",method="lm",interactive=TRUE)
ggScatter(mtcars,"wt","mpg",interactive=TRUE)
ggScatter(mtcars,"wt","mpg")+facet_wrap(~cut_numer(mpg,3))
ggScatter(mtcars,"wt","mpg")+facet_wrap(~cut_number(mpg,3))
p<-ggScatter(mtcars,"wt","mpg")+facet_wrap(~cut_number(mpg,3))
ggiraph(code=print(p))
ggScatter(mtcars,"wt","mpg",method="lm")+facet_wrap(~cut_number(mpg,3))
library(moonBook2)
ggScatter(mtcars,"wt","mpg")
ggScatter(mtcars,"wt","mpg",method="lm")
library(moonBook2)
ggScatter(mtcars,"wt","mpg",method="lm")
ggScatter(mtcars,"wt","mpg")
ggScatter(mtcars,"wt","mpg",interactive=TRUE)
ggScatter(mtcars,"wt","mpg",method="lm",interactive=TRUE)
library(moonBook2)
ggScatter(mtcars,"wt","mpg",method="lm",interactive=TRUE)
ggScatter(mtcars,"wt","mpg",interactive=TRUE)
ggScatter(mtcars,"wt","mpg")+facet_wrap(~cut_numer(mpg,3))
ggScatter(mtcars,"wt","mpg")+facet_wrap(~cut_number(mpg,3))
ggScatter(mtcars,"wt","mpg",method="lm")+facet_wrap(~cut_number(mpg,3))
library(moonBook2)
ggScatter(mtcars,"wt","mpg")
ggScatter(mtcars,"wt","mpg","cyl")
ggScatter(mtcars,"wt","mpg","cyl",facet=TRUE)
ggScatter(mtcars,"wt","mpg","cyl",method="lm")
ggScatter(mtcars,"wt","mpg","cyl",method="lm",facet=TRUE)
ggScatter(mtcars,"wt","mpg")
ggScatter(mtcars,"wt","mpg",method="lm")
library(moonBook2)
ggScatter(mtcars,"wt","mpg",method="lm")
library(moonBook2)
library(moonBook2)
ggScatter(mtcars,"wt","mpg",method="lm")
library(moonBook2)
ggScatter(mtcars,"wt","mpg",method="lm")
ggScatter(mtcars,"wt","mpg",method="lm")
ggScatter(mtcars,"wt","mpg",method="lm")+labs(caption="y=ax+b")
ggScatter(mtcars,"wt","mpg",method="lm")
ggScatter(mtcars,"wt","mpg",method="lm")+labs(caption="y=ax+b")
ggScatter(mtcars,"wt","mpg",method="lm")+labs(subtitle="y=ax+b")
ggScatter(mtcars,"wt","mpg",method="lm")+labs(title="y=ax+b")
library(moonBook2)
ggScatter(mtcars,"wt","mpg")
ggScatter(mtcars,"wt","mpg",method="lm")
ggScatter(mtcars,"wt","mpg","cyl",method="lm")
ggScatter(mtcars,"wt","mpg","cyl",facet=TRUE,method="lm")
library(moonBook2)
ggScatter(mtcars,"wt","mpg","cyl",facet=TRUE,method="lm")
library(moonBook2)
ggScatter(mtcars,"wt","mpg","cyl",facet=TRUE,method="lm")
library(moonBook2)
ggScatter(mtcars,"wt","mpg","cyl",facet=TRUE,method="lm")
ggScatter(mtcars,"wt","mpg","cyl",facet=TRUE,method="lm",interactive=TRUE)
ggScatter(mtcars,"wt","mpg","cyl",method="lm",interactive=TRUE)
ggScatter(mtcars,"wt","mpg","cyl",interactive=TRUE)
ggScatter(mtcars,"wt","mpg","cyl",facet=TRUE,interactive=TRUE)
library(moonBook2)
ggScatter(mtcars,"wt","mpg","mpg",interactive=TRUE)
cut_number(acs$age,3)
cut_interval(acs$age,3)
table(cut_interval(acs$age,3))
str(cut_interval(acs$age,3))
cut_number(acs$age,3)
str(cut_number(acs$age,3))
identical(cut_number(acs$age,3),cut_interval(acs$age,3))
str(cut_number(acs$age,3))
str(cut_interval(acs$age,3))
cut_interval(acs$age,3)
levels(cut_interval(acs$age,3))
cut_interval(acs$age,3)
table(cut_interval(acs$age,3))
acs[cut_interval(acs$age,3)==1,]
cut_interval(acs$age,3)
str(cut_interval(acs$age,3))
acs$cut_group=cut_interval(acs$age,3)
acs$cut_group
table(acs$cut_group)
acs[acs$cut_group==1,]
str(acs$cut_group)
acs[acs$cut_group==1,]
head(acs)
acs$cutgroup
acs$cut_group
str(acs$cut_group)
levels(acs$cut_group)
acs[levels(acs$cut_group)==1,]
acs[acs$cut_group==levels(acs$cut_group)[1],]
nrow(acs[acs$cut_group==levels(acs$cut_group)[1],])
group=unique(acs$cut_group)
group
nrow(acs[acs$cut_group==group[1],])
nrow(acs[acs$cut_group==group[2],])
nrow(acs[acs$cut_group==group[3],])
table(acs$cut_group)
group=levels(acs$cut_group)
group
nrow(acs[acs$cut_group==group[1],])
nrow(acs[acs$cut_group==group[2],])
nrow(acs[acs$cut_group==group[3],])
library(moonBook2)
ggScatter(mtcars,"wt","mpg","mpg")
ggScatter(mtcars,"wt","mpg","mpg",facet=TRUE)
library(moonBook2)
ggScatter(mtcars,"wt","mpg","mpg",facet=TRUE)
library(moonBook2)
ggScatter(mtcars,"wt","mpg","mpg",facet=TRUE)
ggScatter(mtcars,"wt","mpg","mpg",method="lm",facet=TRUE)
ggScatter(mtcars,"wt","mpg","cyl",method="lm",facet=TRUE)
ggScatter(mtcars,"wt","mpg","cyl",method="lm",facet=TRUE,interactive=TRUE)
ggScatter(mtcars,"wt","mpg","cyl",method="lm",interactive=TRUE)
ggScatter(mtcars,"wt","mpg","cyl",method="lm",facet=TRUE,interactive=TRUE)
ggScatter(mtcars,"wt","mpg","mpg",facet=TRUE,interactive=TRUE)
ggScatter(mtcars,"wt","mpg","mpg",interactive=TRUE)
ggScatter(mtcars,"wt","mpg","mpg",method="lm",interactive=TRUE)
library(moonBook2)
ggScatter(mtcars,"wt","mpg","mpg",method="lm",interactive=TRUE)
ggScatter(mtcars,"wt","mpg","mpg",method="lm")
ggScatter(mtcars,"wt","mpg","mpg",method="lm",facet=TRUE)
library(moonBook2)
ggScatter(mtcars,"wt","mpg","mpg",facet=TRUE)
library(moonBook2)
ggScatter(mtcars,"wt","mpg","mpg",facet=TRUE)
library(moonBook2)
ggScatter(mtcars,"wt","mpg","mpg",facet=TRUE)
ggScatter(mtcars,"wt","mpg","mpg",facet=TRUE,interactive=TRUE)
ggScatter(mtcars,"wt","mpg","mpg",method="lm",facet=TRUE,interactive=TRUE)
ggScatter(mtcars,"wt","mpg","mpg",method="lm",facet=TRUE)
ggScatter(mtcars,"wt","mpg","mpg",method="lm")
library(moonBook2)
ggScatter(mtcars,"wt","mpg","mpg",method="lm")
library(moonBook2)
ggScatter(mtcars,"wt","mpg","mpg",method="lm")
library(moonBook2)
ggScatter(mtcars,"wt","mpg","mpg",method="lm")
library(moonBook2)
ggScatter(mtcars,"wt","mpg","mpg",method="lm")
ggScatter(mtcars,"wt","mpg","mpg",facet=TRUE,method="lm")
library(moonBook2)
ggScatter(mtcars,"wt","mpg","mpg",facet=TRUE,method="lm")
library(moonBook2)
ggScatter(mtcars,"wt","mpg","mpg",facet=TRUE,method="lm")
library(moonBook2)
ggScatter(mtcars,"wt","mpg","mpg",facet=TRUE,method="lm")
library(moonBook2)
ggScatter(mtcars,"wt","mpg","mpg",facet=TRUE,method="lm")
ggScatter(mtcars,"wt","mpg","mpg",facet=TRUE,method="lm",interactive=TRUE)
ggScatter(mtcars,"wt","mpg",facet=TRUE,method="lm",interactive=TRUE)
ggScatter(mtcars,"wt","mpg","cyl",facet=TRUE,method="lm",interactive=TRUE)
library(moonBook2)
ggScatter(mtcars,"wt","mpg","cyl",facet=TRUE,method="lm",interactive=TRUE)
library(moonBook2)
ggScatter(mtcars,"wt","mpg","cyl",facet=TRUE,method="lm",interactive=TRUE)
ggScatter(mtcars,"wt","mpg","mpg",facet=TRUE,method="lm",interactive=TRUE)
ggScatter(mtcars,"wt","mpg","mpg",method="lm",interactive=TRUE)
library(moonBook2)
ggScatter(mtcars,"wt","mpg","mpg",method="lm",interactive=TRUE)
library(moonBook2)
ggScatter(mtcars,"wt","mpg",colorvar="mpg",method="lm",interactive=TRUE)
library(moonBook2)
ggScatter(mtcars,"wt","mpg",colorvar="mpg",method="lm",interactive=TRUE)
ggScatter(mtcars,"wt","mpg",facetvar="mpg",method="lm",interactive=TRUE)
ggScatter(mtcars,"wt","mpg","mpg","mpg",method="lm",interactive=TRUE)
ggScatter(mtcars,"wt","mpg","mpg",method="lm",interactive=TRUE)
ggScatter(mtcars,"wt","mpg",colorvar="mpg",method="lm",interactive=TRUE)
ggScatter(mtcars,"wt","mpg",colorvar="cyl",method="lm",interactive=TRUE)
ggScatter(mtcars,"wt","mpg",colorvar="cyl","cyl",method="lm",interactive=TRUE)
library(moonBook2)
ggScatter(mtcars,"wt","mpg","cyl",method="lm",interactive=TRUE)
library(moonBook2)
ggScatter(mtcars,"wt","mpg","cyl",method="lm",interactive=TRUE)
ggScatter(mtcars,"wt","mpg","cyl",facet=TRUE,method="lm",interactive=TRUE)
library(moonBook2)
ggScatter(mtcars,"wt","mpg","cyl",facet=TRUE,method="lm",interactive=TRUE)
ggScatter(mtcars,"wt","mpg","cyl",method="lm",interactive=TRUE)
ggScatter(mtcars,"wt","mpg","mpg",method="lm",interactive=TRUE)
ggScatter(mtcars,"wt","mpg","mpg",facet=TRUE,method="lm",interactive=TRUE)
ggScatter(mtcars,"wt","mpg","mpg",method="lm",interactive=TRUE)
ggScatter(mtcars,"wt","mpg",method="lm",interactive=TRUE)
ggScatter(mtcars,"wt","mpg","mpg",facet=TRUE,method="lm",interactive=TRUE)
library(moonBook2)
ggScatter(mtcars,"wt","mpg","mpg",method="lm",interactive=TRUE)
ggScatter(mtcars,"wt","mpg","mpg",facet=TRUE,method="lm",interactive=TRUE)
library(moonBook2)
ggScatter(mtcars,"wt","mpg","mpg",facet=TRUE,method="lm",interactive=TRUE)
ggScatter(mtcars,"wt","mpg","mpg",method="lm",interactive=TRUE)
library(moonBook2)
ggScatter(mtcars,"wt","mpg","mpg",method="lm",interactive=TRUE)
ggScatter(mtcars,"wt","mpg","mpg",facet=TRUE,method="lm",interactive=TRUE)
ggScatter(mtcars,"wt","mpg","cyl",facet=TRUE,method="lm",interactive=TRUE)
ggScatter(mtcars,"wt","mpg","cyl",method="lm",interactive=TRUE)
ggScatter(mtcars,"wt","mpg",method="lm",interactive=TRUE)
library(moonBook2)
ggScatter(mtcars,"wt","mpg",method="lm",interactive=TRUE)
ggScatter(acs,"height","weight","age")
ggScatter(acs,"height","weight","age",facet=TRUE)
ggScatter(acs,"height","weight","age",facet=TRUE,method="lm")
ggScatter(acs,"height","weight","age",method="lm")
ggScatter(acs,"height","weight",method="lm")
ggScatter(acs,"height","weight",method="lm",interactive=TRUE)
ggScatter(acs,"height","weight","age",method="lm",interactive=TRUE)
ggScatter(acs,"Dx","weight","age",method="lm",interactive=TRUE)
ggScatter(acs,"Dx","weight","age",interactive=TRUE)
library(moonBook2)
ggScatter(acs,"Dx","weight","age",interactive=TRUE)
ggScatter(acs,"Dx","smoking","age",interactive=TRUE)
ggScatter(acs,"height","weight","Dx",interactive=TRUE)
ggScatter(acs,"height","weight","Dx",method="lm",interactive=TRUE)
ggScatter(acs,"height","weight","Dx",facet=TRUE,method="lm",interactive=TRUE)
mpg
str(mpg)
ggScatter(mpg,"hwy","cty")
ggScatter(mpg,"hwy","cty","drv")
ggScatter(mpg,"hwy","cty","class")
ggScatter(mpg,"hwy","cty","disp")
ggScatter(mpg,"hwy","cty","displ")
ggScatter(mpg,"hwy","cty","displ",facet=TRUE)
ggScatter(mpg,"hwy","cty","displ",method="lm",facet=TRUE)
radial
str(radial)
ggScatter(radial,"NTAV","age","TC",facet=TRUE)
ggScatter(radial,"NTAV","age","TC",facet=TRUE,method="lm")
ggScatter(radial,"age","NTAV","TC",facet=TRUE,method="lm")
ggScatter(radial,"age","NTAV","TC",method="lm")
ggEffect(radial,"age","NTAV","TC")
ggEffect(radial,"NTAV","age","TC")
ggEffect(radial,"NTAV","age","TC",interactive=TRUE)
ggScatter(radial,yvar="NTAV",xvar="age",colorvar="DM",interactive=TRUE)
ggScatter(radial,yvar="NTAV",xvar="age",colorvar="DM",interactive=TRUE,method="lm")
ggScatter(radial,yvar="NTAV",xvar="age",colorvar="DM",interactive=TRUE,method="lm",intercative=TRUE)
ggScatter(radial,yvar="NTAV",xvar="age",colorvar="DM",interactive=TRUE,method="lm",interactive=TRUE)
ggScatter(radial,yvar="NTAV",xvar="age",colorvar="DM",interactive=TRUE,method="lm")
ggScatter(radial,yvar="NTAV",xvar="age",colorvar="DM",facet=TRUE,interactive=TRUE,method="lm")
ggEffect(radial,yvar="NTAV",xvar="age",colorvar="DM",facet=TRUE,interactive=TRUE)
ggEffect(radial,yvar="NTAV",xvar="age",colorvar="DM",interactive=TRUE)
library(moonBook2)
ggEffect(radial,"NTAV","age","DM",interactive=TRUE)
ggEffect(radial,yvar="NTAV",xvar="age",colorvar="DM",interactive=TRUE)
ggScatter(radial,yvar="NTAV",xvar="age",colorvar="DM",facet=TRUE,interactive=TRUE,method="lm")
ggScatter(radial,yvar="NTAV",xvar="age",colorvar="DM",interactive=TRUE,method="lm")
ggEffect(radial,yvar="NTAV",xvar="age",colorvar="DM",interactive=TRUE)
ggEffect(radial,"NTAV","age","DM",interactive=TRUE)
ggScatter(radial,yvar="NTAV",xvar="age",colorvar="DM",se=FALSE,interactive=TRUE,method="lm")
str(radial)
ggEffect(radial,"NTAV","age","LDL",interactive=TRUE)
ggScatter(radial,"NTAV","age","LDL",facet=TRUE,method="lm",interactive=TRUE)
write.csv(acs,"acs.csv",row.names = FALSE)
write.csv(radial,"radial.csv",row.names = FALSE)
library(moonBook2)
ggRadar(acs)
require(ggplot2)
ggRadar(acs)
ggBoxplot=function(x,rescale=FALSE,horizontal=FALSE,interactive=FALSE,...){
numeric=unlist(lapply(x,is.numeric))
df=x[numeric]
if(rescale) df<-data.frame(apply(df,2,scale))
df$id=1:nrow(df)
longdf=reshape::melt(df,id="id")
#str(longdf)
p<-ggplot(longdf,aes(y=value,x=variable,color=variable,data_id=id,tooltip=variable))+
#geom_boxplot()
geom_boxplot_interactive(...)+theme_bw()+
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
legend.position="none")
if(horizontal) p<-p+coord_flip()
if(interactive){
tooltip_css <- "background-color:white;font-style:italic;padding:10px;border-radius:10px 20px 10px 20px;"
#hover_css="fill-opacity=.3;cursor:pointer;stroke:gold;"
hover_css="r:4px;cursor:pointer;stroke-width:6px;"
selected_css = "fill:#FF3333;stroke:black;"
p<-ggiraph(code=print(p),tooltip_extra_css=tooltip_css,tooltip_opacity=.75,
zoom_max=10,hover_css=hover_css,selected_css=selected_css)
}
p
}
devtools::document()
library(moonBook2)
ggBoxplot(acs)
library(moonBook2)
library(moonBook2)
ggBoxplot(acs)
library(moonBook2)
ggBoxplot(acs)
library(moonBook2)
ggBoxplot(acs)
library(moonBook2)
ggBoxplot(acs)
library(moonBook2)
ggBoxplot(acs)
library(moonBook2)
ggBoxplot(mtcars)
library(moonBook2)
ggBoxplot(mtcars)
require(ggplot2)
require(ggiraph)
require(reshape2)
data=acs;rescale=FALSE;horizontal=FALSE;interactive=FALSE
numeric=unlist(lapply(data,is.numeric))
df=data[numeric]
if(rescale) df<-data.frame(apply(df,2,scale))
df$id=1:nrow(df)
longdf=reshape2::melt(df,id="id")
p<-ggplot(longdf,aes(y=value,x=variable,color=variable,data_id=id,tooltip=variable))+
#geom_boxplot()
geom_boxplot_interactive(...)+theme_bw()+
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
legend.position="none")
if(horizontal) p<-p+coord_flip()
if(interactive){
tooltip_css <- "background-color:white;font-style:italic;padding:10px;border-radius:10px 20px 10px 20px;"
#hover_css="fill-opacity=.3;cursor:pointer;stroke:gold;"
hover_css="r:4px;cursor:pointer;stroke-width:6px;"
selected_css = "fill:#FF3333;stroke:black;"
p<-ggiraph(code=print(p),tooltip_extra_css=tooltip_css,tooltip_opacity=.75,
zoom_max=10,hover_css=hover_css,selected_css=selected_css)
}
p
library(moonBook2)
ggBoxplot(acs)
ggBoxplot(acs)
library(moonBook2)
ggBoxplot(acs)
ggBoxplot(acs,interactive=TRUE)
ggBoxplot(acs,interactive=TRUE)
ggCor(acs)
library(moonBook2)
ggCor(acs)
ggCor(iris)
library(moonBook2)
ggCor(acs)
ggCor(iris)
ggCor(iris)
require(mycor)
result=mycor::mycor(df,...)
df=iris
result=mycor(iris)
if(is.null(colors)) colors=c("#6D9EC1","white","#E46726")
cor_mat<-result$r
p_mat<-result$p
diag( cor_mat ) <- NA
diag( p_mat ) <- NA
var1 <- rep( row.names(cor_mat), ncol(cor_mat) )
var2 <- rep( colnames(cor_mat), each = nrow(cor_mat) )
cor <- as.numeric(cor_mat)
cor_mat <- data.frame( var1 = var1, var2 = var2,
cor = cor, stringsAsFactors = FALSE )
pval=as.numeric(p_mat)
cor_mat$label=ifelse(is.na(cor_mat$cor),"",sprintf("%0.2f",cor_mat$cor))
cor_mat$p=ifelse(is.na(pval),"",sprintf("%0.3f",pval))
cor_mat[["tooltip"]] <-
sprintf("<i>%s</i> vs <i>%s</i>:</br><i>r</i> = %s</br><i>p</i> = %s",
var1, var2, cor_mat$label,cor_mat$p)
p <- ggplot(data = cor_mat, aes(x = var1, y = var2,tooltip=tooltip) ) +
geom_tile_interactive(aes(fill = cor), colour = "white") +
scale_fill_gradient2(low = colors[1], mid = colors[2], high = colors[3], limits = c(-1, 1)) +
coord_equal()+
xlab("")+ylab("")
if(title) {
title=paste0(result$out$method,",",result$out$alternative)
p<-p+ggtitle(title)
}
if(label) p<-p+geom_text(aes(label=label))
if(interactive) p<-ggiraph( code = print(p))
p
library(moonBook2)
ggCor(iris)
ggCor(acs)
ggCor(acs,interactive=TRUE)
ggCor(iris,colors=c("red","white","blue"),interactive=TRUE)
ggCor(mtcars,colors=c("red","white","blue"),interactive=TRUE)
ggCor(mtcars,interactive=TRUE)
ggCor(mtcars,label=TRUE,interactive=TRUE)
ggBoxplot(iris)
ggBoxplot(iris,interactive=TRUE)
ggBoxplot(mtcars,horizontal=TRUE,interactive=TRUE)
library(moonBook2)
ggBoxplot(mtcars,horizontal=TRUE,interactive=TRUE)
ggBoxplot(mtcars,horizontal=TRUE,interactive=TRUE)+theme_bw()
ggBoxplot(mtcars,horizontal=TRUE,interactive=TRUE)+theme_bw()
p<-ggBoxplot(mtcars,horizontal=TRUE)+theme_bw()
p<-ggBoxplot(mtcars,horizontal=TRUE)+theme_bw()
ggiraph(code=print(p),zoom_max=10)
ggBoxplot(mtcars,rescale=TRUE,horizontal=TRUE,interactive=TRUE)
library(moonBook2)
ggScatter(radial,xvar="height",yvar="weight",interactive=TRUE)
ggScatter(radial,xvar="height",yvar="weight",methd="lm",interactive=TRUE)
ggScatter(radial,xvar="height",yvar="weight",method="lm",interactive=TRUE)
ggScatter(NTAV~age|smoking,data=radial,fullrange=TRUE,se=FALSE,interactive=TRUE)
ggScatter(NTAV~age|smoking,data=radial,fullrange=TRUE,method="lm",se=FALSE,interactive=TRUE)
ggScatter(radial,xvar="height",yvar="weight",colorvar="sex",method="lm",interactive=TRUE)
ggScatter(radial,xvar="height",yvar="weight",colorvar="sex",facet=TRUE,method="lm",interactive=TRUE)
ggScatter(radial,yvar="NTAV",xvar="age",colorvar="TC",facet=TRUE,method="lm",interactive=TRUE)
str(radial)
ggScatter(radial,yvar="NTAV",xvar="age",colorvar="hsCRP",facet=TRUE,method="lm",interactive=TRUE)
ggScatter(radial,yvar="NTAV",xvar="age",colorvar="hsCRP",facet=TRUE,method="lm",interactive=TRUE)
ggScatter(radial,yvar="NTAV",xvar="age",colorvar="hsCRP",facet=TRUE,interactive=TRUE)
ggScatter(radial,yvar="height",xvar="weight",colorvar="age",facet=TRUE,interactive=TRUE)
ggScatter(acs,yvar="height",xvar="weight",colorvar="age",methd="lm",facet=TRUE,interactive=TRUE)
ggScatter(acs,yvar="height",xvar="weight",colorvar="age",method="lm",facet=TRUE,interactive=TRUE)
ggScatter(acs,yvar="weight",xvar="height",colorvar="age",method="lm",facet=TRUE,interactive=TRUE)
ggScatter(acs,yvar="weight",xvar="height",colorvar="age",method="lm",interactive=TRUE)
ggScatter(acs,yvar="weight",xvar="height",colorvar="age",cut_numbber=4,method="lm",facet=TRUE,interactive=TRUE)
library(moonBook2)
ggScatter(acs,yvar="weight",xvar="height",colorvar="age",cut_number=4,method="lm",facet=TRUE,interactive=TRUE)
library(moonBook2)
ggScatter(acs,yvar="weight",xvar="height",colorvar="age",cut_number=4,method="lm",facet=TRUE,interactive=TRUE)
